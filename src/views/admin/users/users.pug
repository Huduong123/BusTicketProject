extends ../../layouts/layoutAdmin

block content
  .container.mt-4
    h2.text-center.mb-4 Quáº£n lÃ½ KhÃ¡ch hÃ ng

    // ğŸ” Form tÃ¬m kiáº¿m
    form(action="/admins/users/search", method="GET", class="row g-3 mb-4 border rounded p-3 bg-light")
      .col-md-3
        label.form-label(for="username") TÃªn Ä‘Äƒng nháº­p
        input.form-control(type="text", name="username", id="username", value=(username || ''))

      .col-md-3
        label.form-label(for="full_name") Há» tÃªn
        input.form-control(type="text", name="full_name", id="full_name", value=(full_name || ''))

      .col-md-3
        label.form-label(for="email") Email
        input.form-control(type="email", name="email", id="email", value=(email || ''))

      .col-md-3
        label.form-label(for="phone") Sá»‘ Ä‘iá»‡n thoáº¡i
        input.form-control(type="text", name="phone", id="phone", value=(phone || ''))

      .col-md-3
        label.form-label(for="created_at") NgÃ y táº¡o
        input.form-control(type="date", name="created_at", id="created_at", value=(created_at || ''))

      .col-12.text-center
        button.btn.btn-primary(type="submit") TÃ¬m kiáº¿m
        a.btn.btn-secondary.ms-2(href="/admins/users") Reset

    // ğŸ”˜ NÃºt thÃªm ngÆ°á»i dÃ¹ng
    .text-end.mb-3
      a.btn.btn-success(href="/admins/users/add") â• ThÃªm ngÆ°á»i dÃ¹ng

    // ğŸ“‹ Báº£ng danh sÃ¡ch ngÆ°á»i dÃ¹ng
    .table-responsive
      table.table.table-bordered.table-hover
        thead.table-dark
          tr
            th STT
            th TÃªn Ä‘Äƒng nháº­p
            th Há» tÃªn
            th Email
            th SÄT
            th NgÃ y táº¡o
            th NgÃ y cáº­p nháº­t
            th HÃ nh Ä‘á»™ng
        tbody
          if users && users.length
            each user, index in users
              tr
                td= index + 1
                td= user.username
                td= user.full_name || '-'
                td= user.email || '-'
                td= user.phone || '-'
                td= new Date(user.created_at).toLocaleString('vi-VN')
                td= new Date(user.updated_at).toLocaleString('vi-VN')
                td
                  .d-flex.gap-2
                    a.btn.btn-warning.btn-sm(href=`/admins/users/edit/${user.id}`) Sá»­a
                    form(action=`/admins/users/delete/${user.id}`, method="POST", class="d-inline")
                      button.btn.btn-danger.btn-sm(type="submit" onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a ngÆ°á»i dÃ¹ng nÃ y?')") XÃ³a
          else
            tr
              td.text-center(colspan="8") KhÃ´ng cÃ³ ngÆ°á»i dÃ¹ng nÃ o.
