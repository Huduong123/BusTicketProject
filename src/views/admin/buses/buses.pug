extends ../../layouts/layoutAdmin

block content
  .container.mt-4
    h2.text-center.mb-4 Qu·∫£n l√Ω Xe

    // üîç Form t√¨m ki·∫øm
    .block.mt-3.mb-4
      form(action="/admins/buses", method="GET", class="row g-3 border rounded bg-light p-3")
        .col-md-4
          label.form-label(for="license_plate") Bi·ªÉn s·ªë xe
          input.form-control(type="text", name="license_plate", id="license_plate", value=license_plate || '')

        .col-md-4
          label.form-label(for="bus_type") Lo·∫°i xe
          select.form-select(name="bus_type", id="bus_type")
            option(value="") -- T·∫•t c·∫£ --
            option(value="Xe gi∆∞·ªùng n·∫±m", selected=(bus_type === 'Xe gi∆∞·ªùng n·∫±m')) Xe gi∆∞·ªùng n·∫±m
            option(value="Xe limousine", selected=(bus_type === 'Xe limousine')) Xe limousine
            option(value="Xe gh·∫ø ng·ªìi", selected=(bus_type === 'Xe gh·∫ø ng·ªìi')) Xe gh·∫ø ng·ªìi

        .col-md-4.d-flex.align-items-end
          button.btn.btn-primary(type="submit") üîç T√¨m ki·∫øm
          a.btn.btn-secondary.ms-2(href="/admins/buses") Reset

    .text-end.mb-3
      a.btn.btn-success(href="/admins/buses/add") ‚ûï Th√™m xe m·ªõi

    .table-responsive
      table.table.table-bordered.table-hover
        thead.table-dark
          tr
            th STT
            th Bi·ªÉn s·ªë
            th S·ªë gh·∫ø
            th Lo·∫°i xe
            th Ng√†y t·∫°o
            th Ng√†y c·∫≠p nh·∫≠t
            th H√†nh ƒë·ªông  
        tbody
          if buses && buses.length
            each bus, index in buses
              tr
                td= index + 1
                td= bus.license_plate
                td= bus.seat_capacity
                td= bus.bus_type
                td= new Date(bus.created_at).toLocaleString('vi-VN')
                td= new Date(bus.updated_at).toLocaleString('vi-VN')
                td
                  .d-flex.gap-2
                    a.btn.btn-warning.btn-sm(href=`/admins/buses/edit/${bus.id}`) S·ª≠a
                    form(method="POST", action=`/admins/buses/delete/${bus.id}`, onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° xe n√†y?')")
                      button.btn.btn-danger.btn-sm(type="submit") Xo√°
          else
            tr
              td.text-center(colspan="7") Kh√¥ng c√≥ xe n√†o trong h·ªá th·ªëng
